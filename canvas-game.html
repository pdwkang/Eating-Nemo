<!DOCTYPE html>
<html>
<head>
	<title>Canvas Game!</title>
	<link rel="stylesheet" type="text/css" href="canvas-game.css">
</head>
<body>
<div id="score">Score: </div>
<script type="text/javascript">
		var canvas = document.createElement('canvas');
		var context = canvas.getContext('2d')
		canvas.width = 700;		      canvas.height = 480;
		document.body.appendChild(canvas);	
		var backgroundImage = new Image();
		backgroundImage.src = "background.png";
		

		var hero = new Image();  		hero.src = "shark.png"
		var heroLocation = {x: 100, y: 100}

		var keysDown = [];
		addEventListener('keydown', function(event){
			keysDown[event.keyCode] = true;
		});

		addEventListener('keyup', function(event){
			delete keysDown[event.keyCode];
		});

//monsters
	var monster = new Image();		monster.src = "dory1.png";
	var monsterLocation = {x: Math.floor(Math.random()*300),
		 y: Math.floor(Math.random()*600 - 200)}

	var monster2 = new Image();		monster2.src = "nemo1.png";
	var monster2Location = {x: Math.floor(Math.random()*300),
		 y: Math.floor(Math.random()*600 - 200)}

	var monster9 = new Image();		monster9.src = "puffer1.png";
	var monster9Location = {x: Math.floor(Math.random()*400 + 300),
		 y: Math.floor(Math.random()*480)}



var score = 0
var highScore = 0;
function update(){
	var sp = 2 		// hero speed modifier
	if(score>highScore){highScore=score};

	monsterLocation.x += 1;		monsterLocation.y -= .5
	monster2Location.x += 2;	monster2Location.y -= .5
	monster9Location.x -= 3;	monster9Location.y -= .2



	//bruce
	if((39 in keysDown)&&(heroLocation.x < 601)){heroLocation.x += 3 * sp;} 
	if((37 in keysDown)&&(heroLocation.x > 22)){heroLocation.x -= 3 * sp;}
	if((38 in keysDown)&&(heroLocation.y > 5)){heroLocation.y -= 3 * sp;}
	if((40 in keysDown)&&(heroLocation.y < 403)){heroLocation.y += 3 * sp;}

	//dory1	- monster1
	if((32 in keysDown)&&(heroLocation.x <= monsterLocation.x + 45) 
		&& (heroLocation.y <= monsterLocation.y + 45)
		&& (monsterLocation.x <= heroLocation.x + 45)
		&& (monsterLocation.y <= heroLocation.y + 45)){
		monsterLocation = {x: Math.floor(Math.random()*300),
			 y: Math.floor(Math.random()*600) - 200};
			 score += 100
			}
	else if(monsterLocation.x >= 700 || monsterLocation.y <= 1){
		monsterLocation = {x: Math.floor(Math.random()*300),
			 y: Math.floor(Math.random()*600) - 200}}

	//nemo1	- monster2
	if((32 in keysDown)&&(heroLocation.x <= monster2Location.x + 45) 
		&& (heroLocation.y <= monster2Location.y + 44)
		&& (monster2Location.x <= heroLocation.x + 44)
		&& (monster2Location.y <= heroLocation.y + 44)){
		monster2Location = {x: Math.floor(Math.random()*300),
			 y: Math.floor(Math.random()*600) - 200};
			 score += 100
			}
	else if(monster2Location.x >= 700 || monster2Location.y <= 1){
		monster2Location = {x: Math.floor(Math.random()*300),
			 y: Math.floor(Math.random()*600) - 200}}

	//puff (game over)
	if((32 in keysDown)&&(heroLocation.x <= monster9Location.x + 45) 
		&& (heroLocation.y <= monster9Location.y + 44)
		&& (monster9Location.x <= heroLocation.x + 44)
		&& (monster9Location.y <= heroLocation.y + 44)){
		monster9Location = {x: Math.floor(Math.random()*300),
			 y: Math.floor(Math.random()*600) - 200};
			 score = 0
			}
	else if(monster9Location.x <= 1 || monster9Location.y <= 1){
		monster9Location = {x: Math.floor(Math.random()*100 + 650),
			 y: Math.floor(Math.random()*480)}}


	//score		 
	document.getElementById("score").innerHTML = "Score: " + score + "&nbsp &nbsp &nbsp &nbsp High Score: " + highScore;
}

function draw(){
	update();	
	context.drawImage(backgroundImage, 0, 0);
	context.drawImage(hero, heroLocation.x, heroLocation.y);
	context.drawImage(monster, monsterLocation.x, monsterLocation.y);
	context.drawImage(monster2, monster2Location.x, monster2Location.y);

	context.drawImage(monster9, monster9Location.x, monster9Location.y);
	requestAnimationFrame(draw);	
}

draw()


</script>


</body>
</html>